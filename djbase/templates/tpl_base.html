{% load staticfiles %}
<!DOCTYPE html>
<html lang="en" 
    id="ng-app" 
    ng-app="{% block page_mod %}app.base{% endblock %}"
    xmlns:fb="http://ogp.me/ns/fb#"
    prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>{% block page_title %}{% endblock %}</title>
    <meta name="description" content="{% block page_desc %}{% endblock %}">
    <meta name="viewport" content="initial-scale=1.0">
    
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static 'djbase/css/base.css' %}">
    
    <meta property="fb:app_id" content="{{FB_APP_ID}}" />

    {% block page_meta %}{% endblock %}

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <script>
    // define string.trim() for IE6-8
    if(typeof (String.prototype.trim) !== 'function') {
      String.prototype.trim = function() {
        return this.replace(/^\s+|\s+$/g, ''); 
      };
    }
    </script>

    {% block page_head_epilog %}{% endblock %}
</head>
<!--[if lt IE 7 ]> <body class="ie6 ie10-and-below ie9-and-below ie8-and-below ie7-and-below"> <![endif]-->
<!--[if IE 7 ]> <body class="ie7 ie10-and-below ie9-and-below ie8-and-below ie7-and-below"> <![endif]-->
<!--[if IE 8 ]> <body class="ie8 ie10-and-below ie9-and-below ie8-and-below"> <![endif]-->
<!--[if IE 9 ]> <body class="ie9 ie10-and-below ie9-and-below"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><body><!--<![endif]-->
    <div id="fb-root"></div>

    {% block page_contents %}
    {% endblock %}
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/json2/20121008/json2.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
    
    {% comment %}
    <!-- TODO  write a handler to combine and minify these -->
    <script src="{% static 'djbase/js/ui/scroller.js' %}"></script>
    <script src="{% static 'djbase/js/ui/transition.js' %}"></script>
    <script src="{% static 'djbase/js/ui/collapse.js' %}"></script>
    <script src="{% static 'djbase/js/ui/accordion.js' %}"></script>
    <script src="{% static 'djbase/js/ui/tabs.js' %}"></script>
    <script src="{% static 'djbase/js/ui/dialog.js' %}"></script>
    <script src="{% static 'djbase/js/ui/alert.js' %}"></script>
    <script src="{% static 'djbase/js/ui/validated.js' %}"></script>
    <script src="{% static 'djbase/js/ui/registerDialog.js' %}"></script>
    <script src="{% static 'djbase/js/ui/position.js' %}"></script> 
    <script src="{% static 'djbase/js/ui/tooltip.js' %}"></script> 
    <script src="{% static 'djbase/js/ui/modalDialog.js' %}"></script> 
    <script src="{% static 'djbase/js/ui/lightbox.js' %}"></script> 
    <script src="{% static 'djbase/js/ui/dropdownToggle.js' %}"></script> 
    <script src="{% static 'djbase/js/ui/datepicker.js' %}"></script>
    <script src="{% static 'djbase/js/app/base.js' %}"></script>
    {% endcomment %}

    {% block page_body_epilog %}{% endblock %}

    <!--[if lte IE 8 ]>
    <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
    <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
    <![endif]-->
</body>
</html>
